<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobile Test - RE-READZ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
        button {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            background: #007bff;
            color: white;
            cursor: pointer;
        }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>Mobile Functionality Test</h1>
    
    <div class="test-section">
        <h2>Mobile Menu Test</h2>
        <p>Test if mobile menu toggle works:</p>
        <button onclick="testMobileMenu()">Test Mobile Menu</button>
        <div id="mobile-menu-result"></div>
    </div>
    
    <div class="test-section">
        <h2>Popular Books Test</h2>
        <p>Test if popular books load correctly:</p>
        <button onclick="testPopularBooks()">Test Popular Books</button>
        <div id="popular-books-result"></div>
    </div>
    
    <div class="test-section">
        <h2>Touch Events Test</h2>
        <p>Test touch event handling:</p>
        <button id="touch-test-btn" onclick="testTouchEvents()">Touch Test Button</button>
        <div id="touch-result"></div>
    </div>
    
    <div class="test-section">
        <h2>API Connection Test</h2>
        <p>Test Open Library API connection:</p>
        <button onclick="testAPI()">Test API</button>
        <div id="api-result"></div>
    </div>

    <script>
        function testMobileMenu() {
            const result = document.getElementById('mobile-menu-result');
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            
            if (mobileToggle) {
                result.innerHTML = '<div class="status success">✓ Mobile menu toggle found</div>';
                mobileToggle.click();
                setTimeout(() => {
                    const navMenu = document.querySelector('.nav-menu');
                    if (navMenu && navMenu.classList.contains('active')) {
                        result.innerHTML += '<div class="status success">✓ Mobile menu toggle works</div>';
                    } else {
                        result.innerHTML += '<div class="status error">✗ Mobile menu toggle not working</div>';
                    }
                }, 100);
            } else {
                result.innerHTML = '<div class="status error">✗ Mobile menu toggle not found</div>';
            }
        }
        
        function testPopularBooks() {
            const result = document.getElementById('popular-books-result');
            result.innerHTML = '<div class="status info">Testing popular books loading...</div>';
            
            fetch('https://openlibrary.org/search.json?q=fiction&limit=5')
                .then(response => response.json())
                .then(data => {
                    if (data.docs && data.docs.length > 0) {
                        result.innerHTML = `<div class="status success">✓ API working - Found ${data.docs.length} books</div>`;
                    } else {
                        result.innerHTML = '<div class="status error">✗ API returned no books</div>';
                    }
                })
                .catch(error => {
                    result.innerHTML = `<div class="status error">✗ API error: ${error.message}</div>`;
                });
        }
        
        function testTouchEvents() {
            const result = document.getElementById('touch-result');
            const btn = document.getElementById('touch-test-btn');
            
            btn.addEventListener('touchstart', function() {
                result.innerHTML = '<div class="status success">✓ Touch start event detected</div>';
            });
            
            btn.addEventListener('touchend', function() {
                result.innerHTML += '<div class="status success">✓ Touch end event detected</div>';
            });
            
            result.innerHTML = '<div class="status info">Touch the button above to test touch events...</div>';
        }
        
        function testAPI() {
            const result = document.getElementById('api-result');
            result.innerHTML = '<div class="status info">Testing API connection...</div>';
            
            // Test multiple API endpoints
            const tests = [
                fetch('https://openlibrary.org/search.json?q=fiction&limit=1'),
                fetch('https://openlibrary.org/search.json?q=romance&limit=1'),
                fetch('https://openlibrary.org/search.json?q=mystery&limit=1')
            ];
            
            Promise.all(tests)
                .then(responses => Promise.all(responses.map(r => r.json())))
                .then(data => {
                    const successCount = data.filter(d => d.docs && d.docs.length > 0).length;
                    result.innerHTML = `<div class="status success">✓ API working - ${successCount}/3 endpoints successful</div>`;
                })
                .catch(error => {
                    result.innerHTML = `<div class="status error">✗ API error: ${error.message}</div>`;
                });
        }
    </script>
</body>
</html>